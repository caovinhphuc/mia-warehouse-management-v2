"use strict";(self.webpackChunkreact_google_sheets_project=self.webpackChunkreact_google_sheets_project||[]).push([[182],{21432:(e,t,n)=>{n.d(t,{K:()=>r});const a=import.meta.env.VITE_AI_SERVICE_URL||import.meta.env.REACT_APP_AI_SERVICE_URL||"http://localhost:8000";const r=new class{async analyzePatterns(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=await fetch("".concat(a,"/api/patterns/analyze"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,value_column:t,date_column:n})});if(!r.ok)throw new Error("Pattern analysis failed: ".concat(r.statusText));const o=await r.json();return o.data||o}catch(r){throw console.error("Error analyzing patterns:",r),r}}async analyzeTrends(e,t){try{const n=await fetch("".concat(a,"/api/patterns/trends"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,value_column:t})});if(!n.ok)throw new Error("Trend analysis failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error analyzing trends:",n),n}}async detectAnomalies(e,t){try{const n=await fetch("".concat(a,"/api/patterns/anomalies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,value_column:t})});if(!n.ok)throw new Error("Anomaly detection failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error detecting anomalies:",n),n}}async generatePredictiveAlerts(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const o=await fetch("".concat(a,"/api/alerts/predictive"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,value_column:t,metric_name:n,threshold:r})});if(!o.ok)throw new Error("Predictive alert failed: ".concat(o.statusText));const i=await o.json();return i.data||i}catch(o){throw console.error("Error generating predictive alerts:",o),o}}async categorizeColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const n=await fetch("".concat(a,"/api/categorize/columns"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({column_name:e,sample_values:t})});if(!n.ok)throw new Error("Categorization failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error categorizing column:",n),n}}async categorizeRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await fetch("".concat(a,"/api/categorize/rows"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,category_rules:t})});if(!n.ok)throw new Error("Row categorization failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error categorizing rows:",n),n}}async generateReport(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"comprehensive",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{const i=await fetch("".concat(a,"/api/reports/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,value_column:t,date_column:r,report_type:n,title:o})});if(!i.ok)throw new Error("Report generation failed: ".concat(i.statusText));const s=await i.json();return s.data||s}catch(i){throw console.error("Error generating report:",i),i}}async processChatQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await fetch("".concat(a,"/api/nlp/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t})});if(!n.ok)throw new Error("NLP chat failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error processing chat query:",n),n}}async generateSummary(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;try{const n=await fetch("".concat(a,"/api/nlp/summary"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,max_length:t})});if(!n.ok)throw new Error("Summary generation failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error generating summary:",n),n}}async smartSearch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=await fetch("".concat(a,"/api/nlp/search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,data:t,columns:n})});if(!r.ok)throw new Error("Smart search failed: ".concat(r.statusText));const o=await r.json();return o.data||o}catch(r){throw console.error("Error in smart search:",r),r}}async processVoiceCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=await fetch("".concat(a,"/api/nlp/voice"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t})});if(!n.ok)throw new Error("Voice command processing failed: ".concat(n.statusText));const r=await n.json();return r.data||r}catch(n){throw console.error("Error processing voice command:",n),n}}}},23755:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(65043),r=n(53151),o=n(93292),i=n(9690),s=n(10495),c=n(68508),l=n(35799),d=n(93509),h=n(84211),y=n(27986),u=n(88971),p=n(85862),g=n(6319),m=n(97432),x=n(2631),v=n(61884),j=n(73053),A=n(30612),w=n(40613),f=n(86793),T=n(21432),S=n(70579);const{Title:C,Text:b}=r.A,{TextArea:P}=o.A,{Option:_}=i.A,{Panel:E}=s.A,O=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)("patterns"),[O,k]=(0,a.useState)([]),[z,N]=(0,a.useState)(null),[I,R]=(0,a.useState)("value"),[D,J]=(0,a.useState)([]),[V,K]=(0,a.useState)([]),[L,q]=(0,a.useState)(null),[F,U]=(0,a.useState)("comprehensive"),B=[{name:"Day 1",value:45,date:"2024-01-01"},{name:"Day 2",value:52,date:"2024-01-02"},{name:"Day 3",value:48,date:"2024-01-03"},{name:"Day 4",value:120,date:"2024-01-04"},{name:"Day 5",value:50,date:"2024-01-05"},{name:"Day 6",value:55,date:"2024-01-06"},{name:"Day 7",value:58,date:"2024-01-07"},{name:"Day 8",value:60,date:"2024-01-08"},{name:"Day 9",value:62,date:"2024-01-09"},{name:"Day 10",value:65,date:"2024-01-10"}];(0,a.useEffect)(()=>{k(B)},[]);const M=async()=>{if(O&&0!==O.length){t(!0);try{const e=await T.K.analyzePatterns(O,I,"date");N(e),c.Ay.success("Ph\xe2n t\xedch patterns th\xe0nh c\xf4ng!")}catch(e){console.error("Pattern analysis error:",e),c.Ay.error("L\u1ed7i ph\xe2n t\xedch: ".concat(e.message))}finally{t(!1)}}else c.Ay.warning("Vui l\xf2ng nh\u1eadp d\u1eef li\u1ec7u \u0111\u1ec3 ph\xe2n t\xedch")},G=async()=>{if(O&&0!==O.length){t(!0);try{const e=await T.K.generatePredictiveAlerts(O,I,"Sample Metric",70);J(e||[]),c.Ay.success("T\u1ea1o ".concat((null===e||void 0===e?void 0:e.length)||0," predictive alerts!"))}catch(e){console.error("Predictive alert error:",e),c.Ay.error("L\u1ed7i: ".concat(e.message))}finally{t(!1)}}else c.Ay.warning("Vui l\xf2ng nh\u1eadp d\u1eef li\u1ec7u")},Q=async()=>{if(O&&0!==O.length){t(!0);try{const e=await T.K.categorizeRows(O);K(e||[]),c.Ay.success("Categorization th\xe0nh c\xf4ng!")}catch(e){console.error("Categorization error:",e),c.Ay.error("L\u1ed7i: ".concat(e.message))}finally{t(!1)}}else c.Ay.warning("Vui l\xf2ng nh\u1eadp d\u1eef li\u1ec7u")},H=async()=>{if(O&&0!==O.length){t(!0);try{const e=await T.K.generateReport(O,I,F,"date","Automated Report - ".concat((new Date).toLocaleDateString("vi-VN")));q(e),c.Ay.success("T\u1ea1o b\xe1o c\xe1o th\xe0nh c\xf4ng!")}catch(e){console.error("Report generation error:",e),c.Ay.error("L\u1ed7i: ".concat(e.message))}finally{t(!1)}}else c.Ay.warning("Vui l\xf2ng nh\u1eadp d\u1eef li\u1ec7u")},W=()=>{var t,n,a,r,i,c,x,v,A,w,f;return(0,S.jsxs)("div",{children:[(0,S.jsx)(l.A,{children:(0,S.jsxs)(d.A,{gutter:[16,16],children:[(0,S.jsx)(h.A,{xs:24,md:12,children:(0,S.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,S.jsx)(b,{strong:!0,children:"D\u1eef li\u1ec7u m\u1eabu:"}),(0,S.jsx)(P,{rows:6,value:JSON.stringify(O,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);k(t)}catch(t){}},placeholder:"Nh\u1eadp d\u1eef li\u1ec7u d\u1ea1ng JSON array..."})]})}),(0,S.jsx)(h.A,{xs:24,md:12,children:(0,S.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,S.jsx)(b,{strong:!0,children:"Value Column:"}),(0,S.jsx)(o.A,{value:I,onChange:e=>R(e.target.value),placeholder:"T\xean c\u1ed9t ch\u1ee9a gi\xe1 tr\u1ecb"}),(0,S.jsx)(u.Ay,{type:"primary",icon:(0,S.jsx)(j.A,{}),onClick:M,loading:e,block:!0,children:"Ph\xe2n t\xedch Patterns"})]})})]})}),z&&(0,S.jsx)(l.A,{title:"K\u1ebft qu\u1ea3 ph\xe2n t\xedch",style:{marginTop:16},children:(0,S.jsxs)(s.A,{children:[(0,S.jsx)(E,{header:"Trend Analysis",children:(0,S.jsxs)(p.A,{bordered:!0,column:2,children:[(0,S.jsx)(p.A.Item,{label:"Trend",children:(0,S.jsx)(g.A,{color:"increasing"===(null===(t=z.trends)||void 0===t?void 0:t.trend)?"green":"red",children:(null===(n=z.trends)||void 0===n?void 0:n.trend)||"N/A"})}),(0,S.jsxs)(p.A.Item,{label:"Confidence",children:[(100*(null===(a=z.trends)||void 0===a?void 0:a.confidence)).toFixed(1),"%"]}),(0,S.jsxs)(p.A.Item,{label:"Change %",children:[null===(r=z.trends)||void 0===r||null===(i=r.change_percentage)||void 0===i?void 0:i.toFixed(1),"%"]}),(0,S.jsx)(p.A.Item,{label:"Mean",children:null===(c=z.trends)||void 0===c||null===(x=c.mean)||void 0===x?void 0:x.toFixed(2)})]})},"trend"),(0,S.jsx)(E,{header:"Anomalies (".concat((null===(v=z.anomalies)||void 0===v?void 0:v.length)||0,")"),children:(null===(A=z.anomalies)||void 0===A?void 0:A.length)>0?(0,S.jsx)(m.A,{dataSource:z.anomalies,columns:[{title:"Index",dataIndex:"index"},{title:"Value",dataIndex:"value"},{title:"Type",dataIndex:"type"},{title:"Severity",dataIndex:"severity",render:e=>(0,S.jsx)(g.A,{color:"high"===e?"red":"orange",children:e})}],pagination:!1,size:"small"}):(0,S.jsx)(b,{type:"secondary",children:"Kh\xf4ng c\xf3 anomalies \u0111\u01b0\u1ee3c ph\xe1t hi\u1ec7n"})},"anomalies"),(0,S.jsx)(E,{header:"Cycle Analysis",children:(0,S.jsxs)(p.A,{bordered:!0,children:[(0,S.jsx)(p.A.Item,{label:"Cycle Type",children:(null===(w=z.cycles)||void 0===w?void 0:w.cycle)||"None"}),(0,S.jsxs)(p.A.Item,{label:"Confidence",children:[(100*(null===(f=z.cycles)||void 0===f?void 0:f.confidence)).toFixed(1),"%"]})]})},"cycle")]})})]})},X=()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(l.A,{children:(0,S.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,S.jsx)(u.Ay,{type:"primary",icon:(0,S.jsx)(A.A,{}),onClick:G,loading:e,children:"T\u1ea1o Predictive Alerts"}),(0,S.jsx)(b,{type:"secondary",children:"Ph\xe2n t\xedch trends v\xe0 t\u1ea1o alerts d\u1ef1 \u0111o\xe1n d\u1ef1a tr\xean patterns"})]})}),D.length>0&&(0,S.jsx)(l.A,{title:"Predictive Alerts (".concat(D.length,")"),style:{marginTop:16},children:D.map((e,t)=>(0,S.jsx)(x.A,{message:e.message,description:e.recommendation||"",type:"warning"===e.alert_type?"warning":"info",showIcon:!0,style:{marginBottom:8},action:(0,S.jsxs)(y.A,{children:[(0,S.jsx)(g.A,{color:"high"===e.severity?"red":"medium"===e.severity?"orange":"blue",children:e.severity}),(0,S.jsx)(g.A,{children:e.type})]})},t))})]}),Y=()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(l.A,{children:(0,S.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,S.jsx)(u.Ay,{type:"primary",icon:(0,S.jsx)(w.A,{}),onClick:Q,loading:e,children:"Ph\xe2n lo\u1ea1i d\u1eef li\u1ec7u"}),(0,S.jsx)(b,{type:"secondary",children:"T\u1ef1 \u0111\u1ed9ng ph\xe2n lo\u1ea1i v\xe0 g\u1eafn tags cho d\u1eef li\u1ec7u"})]})}),V.length>0&&(0,S.jsx)(l.A,{title:"Categorized Data (".concat(V.length,")"),style:{marginTop:16},children:(0,S.jsx)(m.A,{dataSource:V.slice(0,10),columns:[...Object.keys(V[0]||{}).slice(0,5).map(e=>({title:e,dataIndex:e,ellipsis:!0})),{title:"Categories",dataIndex:["_categories"],render:e=>{var t;return(0,S.jsxs)(y.A,{children:[null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.map(e=>(0,S.jsx)(g.A,{children:e},e)),(0,S.jsx)(g.A,{color:"high"===(null===e||void 0===e?void 0:e.priority)?"red":"medium"===(null===e||void 0===e?void 0:e.priority)?"orange":"blue",children:null===e||void 0===e?void 0:e.priority})]})}}],pagination:{pageSize:5},size:"small"})})]}),Z=()=>(0,S.jsxs)("div",{children:[(0,S.jsx)(l.A,{children:(0,S.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,S.jsxs)(y.A,{children:[(0,S.jsx)(b,{strong:!0,children:"Report Type:"}),(0,S.jsxs)(i.A,{value:F,onChange:U,style:{width:200},children:[(0,S.jsx)(_,{value:"summary",children:"Summary"}),(0,S.jsx)(_,{value:"trend",children:"Trend Analysis"}),(0,S.jsx)(_,{value:"anomaly",children:"Anomaly Detection"}),(0,S.jsx)(_,{value:"comprehensive",children:"Comprehensive"})]}),(0,S.jsx)(u.Ay,{type:"primary",icon:(0,S.jsx)(f.A,{}),onClick:H,loading:e,children:"T\u1ea1o B\xe1o C\xe1o"})]}),(0,S.jsx)(b,{type:"secondary",children:"T\u1ef1 \u0111\u1ed9ng t\u1ea1o b\xe1o c\xe1o t\u1eeb d\u1eef li\u1ec7u"})]})}),L&&(0,S.jsx)(l.A,{title:L.title||"Generated Report",style:{marginTop:16},children:(0,S.jsxs)(s.A,{children:[L.executive_summary&&(0,S.jsx)(E,{header:"Executive Summary",children:(0,S.jsx)(b,{children:L.executive_summary})},"summary"),L.sections&&(0,S.jsx)(E,{header:"Sections",children:(0,S.jsx)(s.A,{children:Object.entries(L.sections).map(e=>{let[t,n]=e;return(0,S.jsx)(E,{header:t.replace("_"," ").toUpperCase(),children:(0,S.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontSize:12},children:JSON.stringify(n,null,2)})},t)})})},"sections"),L.insights&&(0,S.jsx)(E,{header:"Insights",children:(0,S.jsx)("ul",{children:L.insights.map((e,t)=>(0,S.jsx)("li",{children:e},t))})},"insights")]})})]});return(0,S.jsxs)("div",{className:"smart-automation-dashboard",children:[(0,S.jsxs)(l.A,{className:"dashboard-header-card",children:[(0,S.jsx)(C,{level:2,children:"\ud83e\udd16 Smart Automation"}),(0,S.jsx)(b,{type:"secondary",children:"AI-powered data analysis, predictive alerts, categorization, and automated reports"})]}),(0,S.jsx)(v.A,{activeKey:n,onChange:r,items:[{key:"patterns",label:"\ud83d\udcca Pattern Recognition",children:(0,S.jsx)(W,{})},{key:"alerts",label:"\u26a0\ufe0f Predictive Alerts",children:(0,S.jsx)(X,{})},{key:"categorization",label:"\ud83c\udff7\ufe0f Smart Categorization",children:(0,S.jsx)(Y,{})},{key:"reports",label:"\ud83d\udcc4 Automated Reports",children:(0,S.jsx)(Z,{})}]})]})}}}]);
//# sourceMappingURL=smart-automation.79471589.chunk.js.map