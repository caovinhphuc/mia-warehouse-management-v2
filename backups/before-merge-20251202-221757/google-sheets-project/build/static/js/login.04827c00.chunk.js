"use strict";(self.webpackChunkreact_google_sheets_project=self.webpackChunkreact_google_sheets_project||[]).push([[966],{3376:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(98233).createContext)({})},18247:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(98233),s=n(54159),c=n.n(s),r=n(41840),a=n(5610),l=n(32280);var i=n(3376),u=n(12433),d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};function h(e,t){const[n,s]=o.useState("string"===typeof e?e:"");return o.useEffect(()=>{(()=>{if("string"===typeof e&&s(e),"object"===typeof e)for(let n=0;n<r.ye.length;n++){const o=r.ye[n];if(!t||!t[o])continue;const c=e[o];if(void 0!==c)return void s(c)}})()},[JSON.stringify(e),t]),n}const p=o.forwardRef((e,t)=>{const{prefixCls:n,justify:s,align:p,className:f,style:m,children:g,gutter:x=0,wrap:y}=e,j=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:A,direction:b}=o.useContext(a.QO),v=(0,l.A)(!0,null),w=h(p,v),k=h(s,v),O=A("row",n),[C,I,S]=(0,u.L3)(O),N=function(e,t){const n=[void 0,void 0],o=Array.isArray(e)?e:[e,void 0],s=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return o.forEach((e,t)=>{if("object"===typeof e&&null!==e)for(let o=0;o<r.ye.length;o++){const c=r.ye[o];if(s[c]&&void 0!==e[c]){n[t]=e[c];break}}else n[t]=e}),n}(x,v),P=c()(O,{["".concat(O,"-no-wrap")]:!1===y,["".concat(O,"-").concat(k)]:k,["".concat(O,"-").concat(w)]:w,["".concat(O,"-rtl")]:"rtl"===b},f,I,S),E={};if(null===N||void 0===N?void 0:N[0]){const e="number"===typeof N[0]?"".concat(N[0]/-2,"px"):"calc(".concat(N[0]," / -2)");E.marginLeft=e,E.marginRight=e}const[F,M]=N;E.rowGap=M;const L=o.useMemo(()=>({gutter:[F,M],wrap:y}),[F,M,y]);return C(o.createElement(i.A.Provider,{value:L},o.createElement("div",Object.assign({},j,{className:P,style:Object.assign(Object.assign({},E),m),ref:t}),g)))})},26046:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var o=n(65043),s=n(73216),c=n(35475),r=n(5137),a=n(53151),l=n(85289),i=n(35799),u=n(2631),d=n(93292),h=n(69723),p=n(88971),f=n(63129),m=n(27986),g=n(9682),x=n(88827),y=n(59970),j=n(99195),A=n(25597),b=n(68508),v=n(21652),w=n(58021),k=n(70579);const{Title:O,Text:C}=a.A,I=()=>{const e=(0,s.Zp)(),[t]=(0,c.ok)(),n=(0,r.wA)(),{isAuthenticated:a}=(0,r.d4)(e=>e.auth),[I]=l.A.useForm(),[S,N]=(0,o.useState)(!1),[P,E]=(0,o.useState)(!1),[F,M]=(0,o.useState)(null),[L,V]=(0,o.useState)(null),_=t.get("returnUrl")||"/";(0,o.useEffect)(()=>{(localStorage.getItem("authToken")||localStorage.getItem("token")||a)&&e("/"!==_?_:"/")},[a,e,_]);const T=[{id:"google",name:"Google",icon:(0,k.jsx)(g.A,{}),color:"#4285F4"},{id:"github",name:"GitHub",icon:(0,k.jsx)(x.A,{}),color:"#24292e"},{id:"microsoft",name:"Microsoft",icon:(0,k.jsx)(y.A,{}),color:"#00A1F1"}];return S&&!P?(0,k.jsx)(w.A,{fullScreen:!0,text:"\u0110ang \u0111\u0103ng nh\u1eadp..."}):(0,k.jsx)("div",{className:"auth-container",children:(0,k.jsx)("div",{className:"auth-wrapper",children:(0,k.jsxs)(i.A,{className:"auth-card",children:[(0,k.jsxs)("div",{className:"auth-header",children:[(0,k.jsx)(O,{level:2,className:"auth-title",children:P?"\ud83d\udcdd \u0110\u0103ng k\xfd":"\ud83d\udd10 \u0110\u0103ng nh\u1eadp"}),(0,k.jsx)(C,{type:"secondary",children:P?"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi \u0111\u1ec3 s\u1eed d\u1ee5ng h\u1ec7 th\u1ed1ng":"Ch\xe0o m\u1eebng tr\u1edf l\u1ea1i MIA.vn Integration"})]}),F&&(0,k.jsx)(u.A,{message:F,type:"error",showIcon:!0,closable:!0,onClose:()=>M(null),style:{marginBottom:24}}),(0,k.jsxs)(l.A,{form:I,name:"auth",onFinish:async t=>{N(!0),M(null);try{if(P)await(0,v.DY)(t.email,t.password,"user"),b.Ay.success("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng! Vui l\xf2ng \u0111\u0103ng nh\u1eadp."),E(!1),I.resetFields();else{const o=await(0,v.Lx)(t.email,t.password);if(o.requiresMFA)b.Ay.info("Vui l\xf2ng nh\u1eadp m\xe3 MFA"),e("/security",{state:{requiresMFA:!0,email:t.email}});else if(null!==o&&void 0!==o&&o.token){localStorage.setItem("authToken",o.token),localStorage.setItem("token",o.token),o.sessionId&&localStorage.setItem("sessionId",o.sessionId),n({type:"LOGIN_SUCCESS",payload:{user:o.user,sessionId:o.sessionId,serviceAccount:o.serviceAccount}}),b.Ay.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!");e(_&&"/login"!==_?_:"/")}}}catch(o){M(o.message||"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i"),b.Ay.error(o.message||"\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i")}finally{N(!1)}},autoComplete:"off",layout:"vertical",size:"large",children:[(0,k.jsx)(l.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email!"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7!"}],children:(0,k.jsx)(d.A,{prefix:(0,k.jsx)(j.A,{}),placeholder:"your@email.com",autoComplete:"email"})}),(0,k.jsx)(l.A.Item,{name:"password",label:"M\u1eadt kh\u1ea9u",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"},{min:6,message:"M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xfd t\u1ef1!"}],children:(0,k.jsx)(d.A.Password,{prefix:(0,k.jsx)(A.A,{}),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoComplete:P?"new-password":"current-password"})}),P&&(0,k.jsx)(l.A.Item,{name:"confirmPassword",label:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",dependencies:["password"],rules:[{required:!0,message:"Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u!"},e=>{let{getFieldValue:t}=e;return{validator:(e,n)=>n&&t("password")!==n?Promise.reject(new Error("M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng kh\u1edbp!")):Promise.resolve()}}],children:(0,k.jsx)(d.A.Password,{prefix:(0,k.jsx)(A.A,{}),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoComplete:"new-password"})}),!P&&(0,k.jsx)(l.A.Item,{children:(0,k.jsxs)("div",{className:"auth-options",children:[(0,k.jsx)(h.A,{children:"Ghi nh\u1edb \u0111\u0103ng nh\u1eadp"}),(0,k.jsx)("a",{href:"#forgot",className:"auth-link",children:"Qu\xean m\u1eadt kh\u1ea9u?"})]})}),(0,k.jsx)(l.A.Item,{children:(0,k.jsx)(p.Ay,{type:"primary",htmlType:"submit",block:!0,loading:S,size:"large",children:P?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"})})]}),(0,k.jsx)(f.A,{children:"Ho\u1eb7c"}),(0,k.jsx)(m.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:T.map(e=>(0,k.jsxs)(p.Ay,{icon:e.icon,block:!0,size:"large",loading:L===e.id,onClick:()=>(async e=>{V(e);try{const t=await v.Ay.getSSOAuthUrl(e);null!==t&&void 0!==t&&t.authUrl?window.location.href=t.authUrl:(b.Ay.error("Kh\xf4ng th\u1ec3 l\u1ea5y URL x\xe1c th\u1ef1c t\u1eeb ".concat(e)),V(null))}catch(F){b.Ay.error("L\u1ed7i \u0111\u0103ng nh\u1eadp ".concat(e,": ").concat(F.message)),V(null)}})(e.id),style:{borderColor:e.color,color:e.color},children:["\u0110\u0103ng nh\u1eadp v\u1edbi ",e.name]},e.id))}),(0,k.jsx)("div",{className:"auth-footer",children:(0,k.jsxs)(C,{type:"secondary",children:[P?"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ":"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",(0,k.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),E(!P),I.resetFields(),M(null)},className:"auth-link",children:P?"\u0110\u0103ng nh\u1eadp":"\u0110\u0103ng k\xfd ngay"})]})})]})})})}},34585:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(98233),s=n(54159),c=n.n(s),r=n(5610),a=n(3376),l=n(12433),i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};function u(e){return"auto"===e?"1 1 auto":"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}const d=["xs","sm","md","lg","xl","xxl"];const h=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:s}=o.useContext(r.QO),{gutter:h,wrap:p}=o.useContext(a.A),{prefixCls:f,span:m,order:g,offset:x,push:y,pull:j,className:A,children:b,flex:v,style:w}=e,k=i(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),O=n("col",f),[C,I,S]=(0,l.xV)(O),N={};let P={};d.forEach(t=>{let n={};const o=e[t];"number"===typeof o?n.span=o:"object"===typeof o&&(n=o||{}),delete k[t],P=Object.assign(Object.assign({},P),{["".concat(O,"-").concat(t,"-").concat(n.span)]:void 0!==n.span,["".concat(O,"-").concat(t,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(O,"-").concat(t,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(O,"-").concat(t,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(O,"-").concat(t,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(O,"-rtl")]:"rtl"===s}),n.flex&&(P["".concat(O,"-").concat(t,"-flex")]=!0,N["--".concat(O,"-").concat(t,"-flex")]=u(n.flex))});const E=c()(O,{["".concat(O,"-").concat(m)]:void 0!==m,["".concat(O,"-order-").concat(g)]:g,["".concat(O,"-offset-").concat(x)]:x,["".concat(O,"-push-").concat(y)]:y,["".concat(O,"-pull-").concat(j)]:j},A,P,I,S),F={};if(null===h||void 0===h?void 0:h[0]){const e="number"===typeof h[0]?"".concat(h[0]/2,"px"):"calc(".concat(h[0]," / 2)");F.paddingLeft=e,F.paddingRight=e}return v&&(F.flex=u(v),!1!==p||F.minWidth||(F.minWidth=0)),C(o.createElement("div",Object.assign({},k,{style:Object.assign(Object.assign(Object.assign({},F),w),N),className:E,ref:t}),b))})}}]);
//# sourceMappingURL=login.04827c00.chunk.js.map